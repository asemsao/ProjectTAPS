<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap
PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
"http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="employee">
	<select id="countEmployees" resultClass="int"
		parameterClass="java.util.Map">
		SELECT COUNT(1)
		FROM employees e
	</select>
	<select id="getAllEmployees" resultClass="adins.ace.taps.bean.employee.EmployeeBean"
	parameterClass="java.util.Map">
		SELECT *
		FROM (SELECT ROWNUM seqnum, a.*
		FROM (SELECT EMPLOYEE_CODE AS
		employeeCode, USER_DOMAIN AS employeeDomain,
		EMPLOYEE_NIK AS employeeNik,
		FIRST_NAME||' '||LAST_NAME AS employeeName,
		ADDRESS AS employeeAddress
		FROM EMPLOYEES) a
		WHERE  <![CDATA[ ROWNUM <= #end#]]>)
		WHERE  <![CDATA[ seqnum >= #start#]]>
	</select>
	<select id="addEmployee" parameterClass="adins.ace.taps.bean.employee.NewEmployeeBean">
		INSERT INTO
		employees(user_domain, employee_nik, employee_code, first_name,
		last_name, gender,
		organization_code, address, phone_number,
		mobile_phone, email,
		employee_category, flag, created_by, created_date, updated_by,updated_date)
		VALUES(#employeeDomain#,#employeeNik#,#employeeCode#,#firstName#,#lastName#,
		#gender#,'MAN',#employeeAddress#,#phoneNumber#,#mobileNumber#,#email#,#golonganNumber#
		|| #golonganLevel#,'ACTIVE','DOMAIN201',SYSDATE,'DOMAIN201',SYSDATE)
	</select>
</sqlMap>
